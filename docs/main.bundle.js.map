{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/images/nine_yards.jpg","webpack:///./src/images/wasm_logo.png","webpack:///./src/images/underground.jpg","webpack:///./src/index.js","webpack:///./node_modules/offline-plugin/runtime.js","webpack:///./src/fonts/libre-baskerville-v5-latin-regular.woff","webpack:///./src/fonts/libre-baskerville-v5-latin-regular.woff2","webpack:///./src/index.html","webpack:///./src/images/cargo.png","webpack:///./src/images/js_logo.png","webpack:///./src/images/futuristic.jpg","webpack:///./fruit.jpg","webpack:///./src/demo.html","webpack:///./src/scripts/script.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","installedModules","2","installedWasmModules","wasmImportObjects","21","./photon","__wbindgen_object_drop_ref","p0i32","exports","__wbg_new_59cb74e423758ede","__wbg_stack_558ba5917b466edd","p1i32","__wbg_error_4bb6c2a97407129a","__widl_instanceof_Window","__widl_f_get_image_data_CanvasRenderingContext2D","p1f64","p2f64","p3f64","p4f64","p5i32","__widl_f_put_image_data_CanvasRenderingContext2D","p4i32","__widl_f_create_element_Document","p2i32","p3i32","__widl_f_body_Document","__widl_f_width_HTMLCanvasElement","__widl_f_height_HTMLCanvasElement","__widl_f_new_with_u8_clamped_array_and_sh_ImageData","__widl_f_data_ImageData","__widl_f_append_child_Node","__widl_f_set_text_content_Node","__widl_f_document_Window","__wbg_call_8a9c8b0a32a202ff","__wbg_newnoargs_a172f39151049128","__wbindgen_object_clone_ref","__wbindgen_debug_string","__wbindgen_throw","__wbindgen_rethrow","__webpack_require__","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","0","jsonpScriptSrc","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","request","undefined","setTimeout","head","appendChild","forEach","wasmModuleId","installedWasmModuleData","importObject","req","fetch","WebAssembly","compileStreaming","all","then","items","instantiate","instantiateStreaming","x","arrayBuffer","bytes","res","w","instance","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","s","require","install","hasSW","navigator","location","protocol","hostname","indexOf","options","serviceWorker","register","applyUpdate","callback","errback","update","getRegistration","registration","js_ctx","js_canvas","startTime","endTime","log","canvas","ctx","img","correction_canvas","correction_ctx","img2","applyEffect","filter_name","in_canvas","in_ctx","in_img","drawImage","time","rust_image","open_image","new_image","grayscale","offset_red","offset","offset_blue","offset_green","primary","solarize","threshold","sepia","decompose_min","decompose_max","grayscale_shades","red_channel_grayscale","single_channel_grayscale","green_channel_grayscale","blue_channel_grayscale","hue_rotate_hsl","colour_space","hue_rotate_hsv","hue_rotate_lch","lighten_hsl","lighten_hsv","lighten_lch","darken_hsl","darken_hsv","darken_lch","desaturate_hsl","desaturate_hsv","desaturate_lch","saturate_hsl","saturate_hsv","saturate_lch","inc_red_channel","alter_channel","inc_blue_channel","inc_green_channel","inc_two_channels","dec_red_channel","dec_blue_channel","dec_green_channel","swap_rg_channels","swap_channels","swap_rb_channels","swap_gb_channels","remove_red_channel","remove_green_channel","remove_blue_channel","emboss","box_blur","sharpen","lix","neue","ryo","gaussian_blur","inc_brightness","inc_lum","inc_luminosity","grayscale_human_corrected","blend","rust_image2","overlay","atop","xor","plus","multiply","burn","difference","soft_light","hard_light","dodge","exclusion","lighten","darken","watermark","watermark_img","text","draw_text","text_border","draw_text_with_border","putImageData","timeEnd","updateBenchmarks","time_taken","getElementById","innerHTML","concat","width","height","getContext","addEventListener","performance","now","wasm_rust_image","new_wasm_image","imgData","getImageData","landing_effects","timer","time_dec","_loop","k","effect","correction_effects","setInterval","_loop2","setUpTimeouts","js_img","requestAnimationFrame","draw","documentElement","style","setProperty"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + chunkId + \".bundle_\" + {\"0\":\"198c0708bdd1e0ac7792\"}[chunkId] + \".js\"\n \t}\n\n \t// object to store loaded and loading wasm modules\n \tvar installedWasmModules = {};\n\n \tfunction promiseResolve() { return Promise.resolve(); }\n\n \tvar wasmImportObjects = {\n \t\t21: function() {\n \t\t\treturn {\n \t\t\t\t\"./photon\": {\n \t\t\t\t\t\"__wbindgen_object_drop_ref\": function(p0i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__wbindgen_object_drop_ref\"](p0i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__wbg_new_59cb74e423758ede\": function() {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__wbg_new_59cb74e423758ede\"]();\n \t\t\t\t\t},\n \t\t\t\t\t\"__wbg_stack_558ba5917b466edd\": function(p0i32,p1i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__wbg_stack_558ba5917b466edd\"](p0i32,p1i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__wbg_error_4bb6c2a97407129a\": function(p0i32,p1i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__wbg_error_4bb6c2a97407129a\"](p0i32,p1i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__widl_instanceof_Window\": function(p0i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__widl_instanceof_Window\"](p0i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__widl_f_get_image_data_CanvasRenderingContext2D\": function(p0i32,p1f64,p2f64,p3f64,p4f64,p5i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__widl_f_get_image_data_CanvasRenderingContext2D\"](p0i32,p1f64,p2f64,p3f64,p4f64,p5i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__widl_f_put_image_data_CanvasRenderingContext2D\": function(p0i32,p1i32,p2f64,p3f64,p4i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__widl_f_put_image_data_CanvasRenderingContext2D\"](p0i32,p1i32,p2f64,p3f64,p4i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__widl_f_create_element_Document\": function(p0i32,p1i32,p2i32,p3i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__widl_f_create_element_Document\"](p0i32,p1i32,p2i32,p3i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__widl_f_body_Document\": function(p0i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__widl_f_body_Document\"](p0i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__widl_f_width_HTMLCanvasElement\": function(p0i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__widl_f_width_HTMLCanvasElement\"](p0i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__widl_f_height_HTMLCanvasElement\": function(p0i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__widl_f_height_HTMLCanvasElement\"](p0i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__widl_f_new_with_u8_clamped_array_and_sh_ImageData\": function(p0i32,p1i32,p2i32,p3i32,p4i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__widl_f_new_with_u8_clamped_array_and_sh_ImageData\"](p0i32,p1i32,p2i32,p3i32,p4i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__widl_f_data_ImageData\": function(p0i32,p1i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__widl_f_data_ImageData\"](p0i32,p1i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__widl_f_append_child_Node\": function(p0i32,p1i32,p2i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__widl_f_append_child_Node\"](p0i32,p1i32,p2i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__widl_f_set_text_content_Node\": function(p0i32,p1i32,p2i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__widl_f_set_text_content_Node\"](p0i32,p1i32,p2i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__widl_f_document_Window\": function(p0i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__widl_f_document_Window\"](p0i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__wbg_call_8a9c8b0a32a202ff\": function(p0i32,p1i32,p2i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__wbg_call_8a9c8b0a32a202ff\"](p0i32,p1i32,p2i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__wbg_newnoargs_a172f39151049128\": function(p0i32,p1i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__wbg_newnoargs_a172f39151049128\"](p0i32,p1i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__wbindgen_object_clone_ref\": function(p0i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__wbindgen_object_clone_ref\"](p0i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__wbindgen_debug_string\": function(p0i32,p1i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__wbindgen_debug_string\"](p0i32,p1i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__wbindgen_throw\": function(p0i32,p1i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__wbindgen_throw\"](p0i32,p1i32);\n \t\t\t\t\t},\n \t\t\t\t\t\"__wbindgen_rethrow\": function(p0i32) {\n \t\t\t\t\t\treturn installedModules[7].exports[\"__wbindgen_rethrow\"](p0i32);\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t};\n \t\t},\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n\n \t\t// Fetch + compile chunk loading for webassembly\n\n \t\tvar wasmModules = {\"0\":[21]}[chunkId] || [];\n\n \t\twasmModules.forEach(function(wasmModuleId) {\n \t\t\tvar installedWasmModuleData = installedWasmModules[wasmModuleId];\n\n \t\t\t// a Promise means \"currently loading\" or \"already loaded\".\n \t\t\tif(installedWasmModuleData)\n \t\t\t\tpromises.push(installedWasmModuleData);\n \t\t\telse {\n \t\t\t\tvar importObject = wasmImportObjects[wasmModuleId]();\n \t\t\t\tvar req = fetch(__webpack_require__.p + \"\" + {\"21\":\"7f51497328f4cd1be6aa\"}[wasmModuleId] + \".module.wasm\");\n \t\t\t\tvar promise;\n \t\t\t\tif(importObject instanceof Promise && typeof WebAssembly.compileStreaming === 'function') {\n \t\t\t\t\tpromise = Promise.all([WebAssembly.compileStreaming(req), importObject]).then(function(items) {\n \t\t\t\t\t\treturn WebAssembly.instantiate(items[0], items[1]);\n \t\t\t\t\t});\n \t\t\t\t} else if(typeof WebAssembly.instantiateStreaming === 'function') {\n \t\t\t\t\tpromise = WebAssembly.instantiateStreaming(req, importObject);\n \t\t\t\t} else {\n \t\t\t\t\tvar bytesPromise = req.then(function(x) { return x.arrayBuffer(); });\n \t\t\t\t\tpromise = bytesPromise.then(function(bytes) {\n \t\t\t\t\t\treturn WebAssembly.instantiate(bytes, importObject);\n \t\t\t\t\t});\n \t\t\t\t}\n \t\t\t\tpromises.push(installedWasmModules[wasmModuleId] = promise.then(function(res) {\n \t\t\t\t\treturn __webpack_require__.w[wasmModuleId] = (res.instance || res).exports;\n \t\t\t\t}));\n \t\t\t}\n \t\t});\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// object with all WebAssembly.instance exports\n \t__webpack_require__.w = {};\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","module.exports = \"images/nine_yards.jpg\";","module.exports = \"images/wasm_logo.png\";","module.exports = \"images/underground.jpg\";","require('offline-plugin/runtime').install();\r\n\r\nimport './fonts/libre-baskerville-v5-latin-regular.woff';\r\nimport './fonts/libre-baskerville-v5-latin-regular.woff2';\r\n\r\nimport './index.html';\r\nimport './demo.html'\r\nimport './index.scss';\r\nimport './scripts/script.js';","var appCacheIframe;\n\nfunction hasSW() {\n  \n    return 'serviceWorker' in navigator && (\n      window.location.protocol === 'https:' ||\n      window.location.hostname === 'localhost' ||\n      window.location.hostname.indexOf('127.') === 0\n    );\n  \n}\n\nfunction install(options) {\n  options || (options = {});\n\n  \n    if (hasSW()) {\n      var registration = navigator.serviceWorker\n        .register(\n          \"sw.js\", {\n            \n            \n          }\n        );\n\n      \n\n      return;\n    }\n  \n\n  \n}\n\nfunction applyUpdate(callback, errback) {\n  \n\n  \n}\n\nfunction update() {\n  \n    if (hasSW()) {\n      navigator.serviceWorker.getRegistration().then(function(registration) {\n        if (!registration) return;\n        return registration.update();\n      });\n    }\n  \n\n  \n}\n\n\n\nexports.install = install;\nexports.applyUpdate = applyUpdate;\nexports.update = update;\n","module.exports = \"fonts/libre-baskerville-v5-latin-regular.woff\";","module.exports = \"fonts/libre-baskerville-v5-latin-regular.woff2\";","module.exports = \"<!doctype html> <html lang=en> <head> <meta charset=UTF-8> <meta name=viewport content=\\\"width=device-width,initial-scale=1\\\"> <meta name=Description content=\\\"A WebAssembly image processing library that delivers blazing performance and safety/security.\\\"> <meta property=og:title content=\\\"Photon: A high-performance WebAssembly image processing library.\\\"> <meta property=og:type content=website> <meta property=og:url content=https://github.com/tr1s/tris-webpack-boilerplate> <meta property=og:image content=https://i.imgur.com/lxRBpeb.jpg> <meta property=og:image:alt content=\\\"A blue package, symbolizing what webpack does.\\\"> <meta property=og:description content=\\\"A WebAssembly image processing library that delivers blazing performance and can be called via JS.\\\"> <meta name=theme-color content=#2c638f> <meta name=msapplication-navbutton-color content=#2c638f> <meta name=apple-mobile-web-app-status-bar-style content=black-translucent> <title>📦Photon: A Rust Image Processing Library</title> <script src=https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/ScrollMagic.min.js></script> <link href=https://unpkg.com/aos@2.3.1/dist/aos.css rel=stylesheet> <script src=https://unpkg.com/aos@2.3.1/dist/aos.js></script> <script src=https://cdn.jsdelivr.net/npm/animejs@3.0.1/lib/anime.min.js></script> <link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@glorious/demo/dist/gdemo.min.css> <script src=https://cdn.jsdelivr.net/npm/@glorious/demo/dist/gdemo.min.js></script> </head> <body> <main> <div class=landing> <div class=content> <header class=container> <h4 class=logo>photon</h4> <nav class=contright> <ul> <li>Home</li> <li><a href=https://silvia-odwyer.github.io/photon/docs/photon>Docs</a></li> <li><a href=demo.html>Demo</a></li> <li><a href=https://github.com/silvia-odwyer>GitHub</a></li> </ul> </nav> </header> <article class=landing_hero> <article class=landing_text> <h1>Image Processing in WebAssembly</h1> <p>Photon is a high-performance image processing library in WebAssembly that runs both natively and on the web. </p> <div class=buttons> <button class=\\\"btn btn-default btn_fill pulse\\\">Get Started</button> <button class=slide id=docs>Docs</button> </div> </article> <article class=landing_image> <img src=\" + require(\"./images/nine_yards.jpg\") + \" id=img /> <canvas id=canvas></canvas> </article> </article> <article class=features> <h2>Features</h2> <p>Unlike other libraries, this library is built with 100% pure Rust, so security and safety is guaranteed. </p> <ul class=features_list> <li data-aos=fade-up data-aos-anchor=#docs> <h3>Web-Assembly Friendly</h3> <p>For web-based image processing, Photon is 4-10x faster than JS, leading to faster results, and less lag. </p> <h5>Read More </h5> </li> <li data-aos=fade-up> <h3>Over 90 functions </h3> <p>Photon provides functions for every domain of image processing. </p> <h5>Read More </h5> </li> <li data-aos=fade-up> <h3>Call WASM with JS</h3> <p>This library's WASM functions can be called via JS, allowing for zero-cost abstraction and faster development.</p> <h5>Read More </h5> </li> </ul> </article> <article class=guide> <h2 class=center>How it works</h2> <section class=guide_pane> <section> <h2>Write once, run anywhere.</h2> <p>Photon can be executed:</p> <ul> <li>In the browser via JS</li> <li>On Node.JS</li> <li>Natively on any machine</li> </ul> <p>Photon compiles to WebAssembly, which allows the execution of native-speed code in the browser and on Node.JS. This means incredible performance and since Photon's core library is written in Rust, it promises security and safety. </p> <button class=\\\"btn btn_fill\\\">Animate</button> </section> <div class=tiles> <div class=tile> <img src=\" + require(\"./images/cargo.png\") + \"> <p>Photon's core library is a Rust crate, available from Cargo.</p> </div> <div id=arrowAnim class=tile> <div class=arrowSliding> <div class=arrow></div> </div> <div class=\\\"arrowSliding delay1\\\"> <div class=arrow></div> </div> <div class=\\\"arrowSliding delay2\\\"> <div class=arrow></div> </div> <div class=\\\"arrowSliding delay3\\\"> <div class=arrow></div> </div> </div> <div class=tile> <img src=\" + require(\"./images/js_logo.png\") + \" height=70 width=70 /> <p>Write code in JS without a single line of Rust.</p> </div> <div id=arrowAnim class=tile> <div class=arrowSliding> <div class=arrow></div> </div> <div class=\\\"arrowSliding delay1\\\"> <div class=arrow></div> </div> <div class=\\\"arrowSliding delay2\\\"> <div class=arrow></div> </div> <div class=\\\"arrowSliding delay3\\\"> <div class=arrow></div> </div> </div> <div class=tile> <img src=\" + require(\"./images/wasm_logo.png\") + \" /> <p>JS code gets exported to WebAssembly.</p> </div> </div> </section> <section class=feature_pane> <section> <h2>Channel/Colour Manipulation</h2> <p> Photon provides low-level access to pixel and channel manipulation, as well as high-level functions for image correction, filtering, watermarking, and convolutions. </p> </section> <div class=container> <div class=w> <div class=\\\"p a\\\"></div> <div class=\\\"p b\\\"></div> <div class=\\\"p c\\\"></div> <div class=\\\"p d\\\"></div> </div> </div> </section> <section class=feature_pane> <div> <img src=\" + require(\"./images/futuristic.jpg\") + \"> </div> <article class=rhs_container> <h2>Image Resizing</h2> <p> Resize images at lightning-speeds. </p> <p>Photon also includes all popular image sizes built-in such as Facebook posts, Insta posts, etc., so that you can focus on the code and just resize to whatever popular format you'd like. </p> </article> </section> <section class=feature_pane> <section> <h2>Image Correction</h2> <p> Adjust images by correcting brightness, saturation, hues, and more, all within various colour spaces. This gives full flexibility to work in many colour spaces, leading to improved results tailored to your image. </p> </section> <div> <img src=\" + require(\"./images/underground.jpg\") + \" id=img2 /> <canvas id=correction_canvas></canvas> </div> </section> <section class=guide_pane> <div class=container> <div class=\\\"background anim_img\\\"></div> <div class=\\\"foreground anim_img\\\"></div> </div> <section class=rhs_container> <h2>Enhance with Effects </h2> <p>Photon comes with a variety of built-in effects, including:</p> <ul> <li><b>Convolutions</b>: Sobel filters, blurs, Laplace effects, edge detection, etc., </li> <li><b>Monochrome effects</b>: Duotoning, greyscaling of various forms, thresholding, sepia, averaging RGB values</li> <li><b>Filters</b>: Over 30 pre-set filters available, incorporating various effects and transformations. </li> </ul> </section> </section> <section class=guide_pane> <section> <h2> Blend Images </h2> <p> Functions include:</p> <b>Blending</b>:<p> Blend images together using 10 different techniques. </p> <p>Create new images from existing ones, or create new worlds from source images.</p> </section> <div class=container> <div class=\\\"background anim_img\\\"></div> <div class=\\\"foreground anim_img\\\"></div> </div> </section> <section> <section class=guide_pane> <section> <h2>View The Demo</h2> <p>To see WebAssembly in action and all effects available, make sure to check out our</p> <a href=demo.html>demo </a> <p>, where you can test out the effects, view performance, and see if Photon is the right library for your needs.</p> <button class=\\\"btn btn_fill\\\">View The Demo</button> </section> </section> <section class=guide_pane data-aos=zoom-in> <section id=get_started> <h2>Get Started In Just 3 Lines of Code</h2> <p>You can transform an image in just 3 lines of code, either in JS or Rust, whichever your choice may be.</p> <p></p> <button class=\\\"btn btn_fill\\\"><a href=https://github.com/silvia-odwyer/photon>Get Started</a></button> </section> <div id=code> </div> </section> <section class=guide_pane> <section id=get_started> <h2>Compare WebAssembly versus JavaScript</h2> <p>Below are two identical images of size 40MB, the left image being edited by JavaScript and the right image edited by WebAssembly. </p> <p></p> <button id=compare_js class=pulse>Start JS</button> <button id=compare_wasm class=pulse>Start WASM</button> <p id=js_time>JS time: </p> <p id=wasm_time>WASM time: </p> </section> <div id=code> <img id=js_img src=\" + require(\"../fruit.jpg\") + \" /> <canvas id=js_canvas></canvas> </div> <canvas id=wasm_canvas></canvas> </section> </section> </article> <h2></h2> <p> </p> <article class=\\\"guide center cta\\\" data-aos=fade-down> <h2>Quick Links</h2> <p></p> <button class=\\\"btn btn_fill\\\">View The Docs</button> <button class=\\\"btn btn_outline\\\">Run The Examples</button> </article> <div id=anime> </div> <footer> <div class=footer_lhs> <h1 class=logo>Photon</h1> <p>Image processing with WebAssembly.</p> <p>Copyright 2019 copy All Rights Reserved. Software open-sourced under MIT. </p> </div> <div class=footer_rhs> <ul> <li>Home</li> <li> <a href=https://github.com/silvia-odwyer>GitHub</a></li> <li><a href=https://silvia-odwyer.github.io/photon/docs>Docs</a></li> </ul> </div> </footer> </div> </div> <script> // Constructor receives a selector that indicates\\r\\n      // where to inject the demonstration in your page.\\r\\n      const demo = new GDemo('#code');\\r\\n      \\r\\n      const code = `\\r\\n      extern crate photon;\\r\\n      fn main() {\\r\\n         // Open the image as a PhotonImage type\\r\\n         let img = photon::helpers::open_image(\\\"daisies.JPG\\\");\\r\\n         \\r\\n         // Apply a Sobel effect to the image \\r\\n         let filtered_img = photon::conv::sobel_vertical(img);\\r\\n         \\r\\n         // Write the contents of this image in PNG format.\\r\\n         photon::helpers::save_image(filtered_img, \\\"new_image.PNG\\\");\\r\\n     }\\r\\n      `\\r\\n      \\r\\n      demo\\r\\n\\r\\n        .openApp('terminal', {minHeight: '350px', promptString: '$'})\\r\\n        .command('git clone https://github.com/silvia-odwyer/photon', {onCompleteDelay: 500})\\r\\n        // .respond('')\\r\\n        .command('cd photon')\\r\\n        .command('npm start')\\r\\n        .respond('This will start a webpack build pipeline, and contains a quick demo to help you get started.')\\r\\n        .command('cd crate')\\r\\n        .command('cargo run --release')\\r\\n        .respond('This will natively run the Rust binary code.')\\r\\n        .openApp('editor', {minHeight: '350px', windowTitle: 'demo.js'})\\r\\n        .write(code, {onCompleteDelay: 1500})\\r\\n        .end(); </script> <script>AOS.init({disable:!1,startEvent:\\\"DOMContentLoaded\\\",initClassName:\\\"aos-init\\\",animatedClassName:\\\"aos-animate\\\",useClassNames:!1,disableMutationObserver:!1,debounceDelay:50,throttleDelay:99,offset:380,delay:0,duration:400,easing:\\\"ease\\\",once:!1,mirror:!1,anchorPlacement:\\\"top-bottom\\\"})</script> <script>anime({targets:\\\"#anime\\\",translateX:250,rotate:\\\"1turn\\\",backgroundColor:\\\"#FFF\\\",duration:800})</script> </main> </body> </html>\";","module.exports = \"images/cargo.png\";","module.exports = \"images/js_logo.png\";","module.exports = \"images/futuristic.jpg\";","module.exports = \"images/fruit.jpg\";","module.exports = \"<!doctype html> <html> <head> <meta http-equiv=Content-type content=\\\"text/html; charset=utf-8\\\"/> <title>Photon WASM Demo</title> </head> <body> <style>@import url(https://fonts.googleapis.com/css?family=Roboto:300,400,700&display=swap);body{background-color:#222}.default{background-color:#222;font-family:Roboto,sans-serif;height:100%}.dark,.main-navbar,.main-sidebar{background-color:#222;color:#696969}.main{margin-left:40vh;padding:0 10px;background-color:#222}.main_content{padding-top:14vh}.sidebar{height:100%;width:40vh;position:fixed;z-index:1;top:0;left:0;background-color:#1f1f1f;overflow-x:hidden;padding-top:20px}.sidebar li{display:block;color:#696969;cursor:pointer}@media screen and (max-height:450px){.sidebar{padding-top:15px}.sidebar a{font-size:18px}}nav{overflow:hidden;background-color:#1d1d1d;position:fixed;top:0;width:100%}nav li{float:left;display:block;color:#f2f2f2;text-align:center;padding:14px 16px;text-decoration:none;font-family:Roboto,sans-serif}ul li{text-decoration:none;list-style:none;padding-right:4em}ul li:active{color:#fff}.tab_nav{display:flex;flex-direction:row;flex-wrap:wrap;margin-left:0}.logo{color:#fff;font-size:1em;margin-left:1em}h2,h3,h4,h5{color:#fff;font-family:Roboto,sans-serif;font-weight:300}h4{text-transform:uppercase;font-size:.7em;letter-spacing:4px}.content{grid-area:\\\"main_left\\\";width:80%}.colour_scheme{border:solid transparent .1em;border-radius:.5em;background-color:#1d1b1b;padding:2em;padding-right:4em;padding-left:4em}.benchmarks{color:#fff;font-size:2em;grid-area:\\\"main_right\\\"}.main_content{display:grid;grid-template-columns:75% 25%;grid-template-rows:auto;grid-template-areas:\\\"main_left main_right\\\"}#code{font-size:.5em;font-family:'Courier New',Courier,monospace}.topnav{display:flex;flex-direction:row;justify-content:flex-end}</style> <div class=default> <div class=sidebar> <h3 class=logo>Photon</h3> <ul> <h4>Channels</h4> <li class=effect id=inc_red_channel>Inc Red Channel</li> <li class=effect id=inc_blue_channel>Inc Blue Channel</li> <li class=effect id=inc_green_channel>Inc Green Channel</li> <li class=effect id=inc_two_channels>Inc 2 Channels</li> <li class=effect id=swap_rg_channels>Swap R+G Channels</li> <li class=effect id=swap_gb_channels>Swap B+G Channels</li> <li class=effect id=swap_rb_channels>Swap R+B Channels</li> <li class=effect id=remove_red_channel>Remove Red Channel</li> <li class=effect id=remove_green_channel>Remove Green Channel</li> <li class=effect id=remove_blue_channel>Remove Blue Channel</li> <li class=effect id=dec_red_channel>Dec Red Channel</li> <li class=effect id=dec_blue_channel>Dec Blue Channel</li> <li class=effect id=dec_green_channel>Dec Green Channel</li> <h5>Watermark</h5> <li class=effect id=watermark>Watermark</li> <h4>Text</h4> <li class=effect id=text>Text</li> <li class=effect id=text_border>Text With Border</li> <h4>Filters</h4> <li class=filter id=oceanic>Oceanic</li> <li class=filter id=islands>Islands</li> <li class=filter id=marine>Marine</li> <li class=filter id=seagreen>Seagreen</li> <li class=filter id=flagblue>Flagblue</li> <li class=filter id=liquid>Liquid</li> <li class=filter id=diamante>Diamante</li> <li class=filter id=radio>Radio</li> <li class=filter id=twenties>Twenties</li> <li class=filter id=rosetint>Rosetint</li> <li class=filter id=mauve>Mauve</li> <li class=filter id=bluechrome>Bluechrome</li> <li class=filter id=vintage>Vintage</li> <li class=filter id=perfume>Perfume</li> <li class=filter id=serenity>Serenity</li> <h4>Monochrome</h4> <li class=effect id=grayscale>Grayscale</li> <li class=effect id=grayscale_human_corrected>Grayscale Human Corrected</li> <li class=effect id=threshold>Threshold</li> <li class=effect id=decompose_min>Decompose Min</li> <li class=effect id=decompose_max>Decompose Max</li> <li class=effect id=sepia>Sepia</li> <li class=effect id=grayscale_shades>Grayscale Shades</li> <li class=effect id=red_channel_grayscale>Red Grayscale</li> <li class=effect id=green_channel_grayscale>Green Grayscale</li> <li class=effect id=blue_channel_grayscale>Blue Grayscale</li> <h4>Effects</h4> <li class=effect id=primary>Primary</li> <li class=effect id=solarize>Solarize</li> <li class=effect id=offset_red>Offset Red</li> <li class=effect id=offset_green>Offset Green</li> <li class=effect id=offset_blue>Offset Blue</li> <li class=effect id=lix>Lix</li> <li class=effect id=neue>Neue</li> <li class=effect id=ryo>Ryo</li> <li class=effect id=inc_brightness>Increase Brightness</li> <li class=effect id=inc_lum>Increase Luminosity</li> <h4>Colour Spaces</h4> <li class=effect id=hue_rotate_hsl>Hue Rotate HSL</li> <li class=effect id=hue_rotate_hsv>Hue Rotate HSV</li> <li class=effect id=hue_rotate_lch>Hue Rotate LCh</li> <li class=effect id=lighten_hsl>Lighten HSL</li> <li class=effect id=lighten_hsv>Lighten HSV</li> <li class=effect id=lighten_lch>Lighten LCh</li> <li class=effect id=darken_hsl>Darken HSL</li> <li class=effect id=darken_hsv>Darken HSV</li> <li class=effect id=darken_lch>Darken LCh</li> <li class=effect id=saturate_hsl>Saturate HSL</li> <li class=effect id=saturate_hsv>Saturate HSV</li> <li class=effect id=saturate_lch>Saturate LCh</li> <li class=effect id=desaturate_hsl>Desaturate HSL</li> <li class=effect id=desaturate_hsv>Desaturate HSV</li> <li class=effect id=desaturate_lch>Desaturate LCh</li> <h4>Conv</h4> <li class=effect id=emboss>Emboss</li> <li class=effect id=box_blur>Box Blur</li> <li class=effect id=gaussian_blur>Gaussian Blur</li> <li class=effect id=sharpen>Sharpen</li> <li id=hue_rotate>JavaScript</li> <h4>Multiple</h4> <h5>Blend</h5> <li class=blend id=blend>Blend</li> <li class=blend id=overlay>Overlay</li> <li class=blend id=atop>Atop</li> <li class=blend id=plus>Plus</li> <li class=blend id=multiply>Multiply</li> <li class=blend id=burn>Burn</li> <li class=blend id=difference>Difference</li> <li class=blend id=soft_light>Soft Light</li> <li class=blend id=hard_light>Hard Light</li> <li class=blend id=dodge>Dodge</li> <li class=blend id=exclusion>Exclusion</li> <li class=blend id=lighten>Lighten</li> <li class=blend id=darken>Darken</li> <h3>Change Image</h3> <ul> <li class=change_image id=lemons>Lemons</li> <li class=change_image id=blue_metro>Blue Metro</li> <li class=change_image id=underground>Underground</li> <li class=change_image id=nine_yards>Nine Yards</li> <li class=change_image id=fruit>Fruit</li> <li class=change_image id=largefruit>Large Fruit</li> <li class=change_image id=daisies>Daisies</li> <li class=change_watermark id=watermark1>Watermark 1</li> </ul> </ul> </div> <nav class=topnav> <ul> <li>Change Image </li> <li>Docs</li> <li>GitHub</li> </ul> </nav> <div class=main> <div class=main_content> <section class=content> <h4>Photon WebAssembly Demo</h4> <h2>Original</h2> <div id=image_container></div> <canvas id=canvas></canvas> </section> <section class=benchmarks> <div id=time></div> <div id=code></div> </section> </div> </div> </div> </body> </html> \";","console.log('%c Hello from Photon!', 'background: lemonchiffon; border: 1px solid #fff');\r\nconsole.log('%c Hire the dev behind Photon 💠', 'background: lavenderblush; border: 1px solid #000; padding: 4px; padding-top: 10px; padding-bottom: 8px;');\r\n\r\n// add custom js below\r\nvar js_ctx, js_canvas, wasm_ctx, wasm_canvas, wasm_image;\r\nvar startTime, endTime;\r\n\r\nimport(\"../../pkg\").then(module => {\r\n    var canvas, ctx, img, correction_canvas, correction_ctx, img2;\r\n\r\n    setUpCanvases();\r\n\r\n    let compare_wasm_elem = document.getElementById(\"compare_wasm\");\r\n    compare_wasm_elem.addEventListener('click', compareWASM, false);\r\n\r\n    let compare_js_elem = document.getElementById(\"compare_js\");\r\n    compare_js_elem.addEventListener(\"click\", compareJS, false);\r\n\r\n    setUpTimeouts();\r\n    function applyEffect(filter_name, in_canvas, in_ctx, in_img) {\r\n      in_ctx.drawImage(in_img, 0, 0);\r\n\r\n      console.time(\"edit_time\"); \r\n\r\n      // Convert the ImageData to a PhotonImage (so that it can communicate with the core Rust library)\r\n      let rust_image = module.open_image(in_canvas, in_ctx);\r\n\r\n      // Maps the name of an effect to its relevant function in the Rust library\r\n      let filter_dict = {\"grayscale\" : function(){return module.grayscale(rust_image)}, \r\n      \"offset_red\": function(){return module.offset(rust_image, 0, 15)},                    \r\n      \"offset_blue\": function(){return module.offset(rust_image, 1, 15)},\r\n      \"offset_green\": function(){return module.offset(rust_image, 2, 15)},\r\n      \"primary\" : function() {return module.primary(rust_image)},\r\n      \"solarize\" : function() {return module.solarize(rust_image)},\r\n      \"threshold\" : function() {return module.threshold(rust_image, 100)},\r\n      \"sepia\" : function() {return module.sepia(rust_image)},\r\n      \"decompose_min\" : function(){return module.decompose_min(rust_image)},\r\n      \"decompose_max\" : function(){return module.decompose_max(rust_image)},\r\n      \"grayscale_shades\": function(){return module.grayscale_shades(rust_image)},\r\n      \"red_channel_grayscale\": function() {single_channel_grayscale(rust_image, 0)},\r\n      \"green_channel_grayscale\": function() {single_channel_grayscale(rust_image, 1)},\r\n      \"blue_channel_grayscale\": function() {single_channel_grayscale(rust_image, 2)},\r\n      \"hue_rotate_hsl\": function() {colour_space(rust_image, \"hsl\", \"shift_hue\")}, \r\n      \"hue_rotate_hsv\": function() {colour_space(rust_image, \"hsv\", \"shift_hue\")}, \r\n      \"hue_rotate_lch\": function() {colour_space(rust_image, \"lch\", \"shift_hue\")}, \r\n      \"lighten_hsl\": function() {colour_space(rust_image, \"hsl\", \"lighten\")}, \r\n      \"lighten_hsv\": function() {colour_space(rust_image, \"hsv\", \"lighten\")}, \r\n      \"lighten_lch\": function() {colour_space(rust_image, \"lch\", \"lighten\")}, \r\n      \"darken_hsl\": function() {colour_space(rust_image, \"hsl\", \"darken\")}, \r\n      \"darken_hsv\": function() {colour_space(rust_image, \"hsv\", \"darken\")}, \r\n      \"darken_lch\": function() {colour_space(rust_image, \"lch\", \"darken\")}, \r\n      \"desaturate_hsl\": function() {colour_space(rust_image, \"hsl\", \"desaturate\")}, \r\n      \"desaturate_hsv\": function() {colour_space(rust_image, \"hsv\", \"desaturate\")}, \r\n      \"desaturate_lch\": function() {colour_space(rust_image, \"lch\", \"desaturate\")}, \r\n      \"saturate_hsl\": function() {colour_space(rust_image, \"hsl\", \"saturate\")}, \r\n      \"saturate_hsv\": function() {colour_space(rust_image, \"hsv\", \"saturate\")}, \r\n      \"saturate_lch\": function() {colour_space(rust_image, \"lch\", \"saturate\")}, \r\n      \"inc_red_channel\": function() {return module.alter_channel(rust_image, 0, 30)}, \r\n      \"inc_blue_channel\": function() {return module.alter_channel(rust_image, 2, 30)}, \r\n      \"inc_green_channel\": function() {return module.alter_channel(rust_image, 1, 30)}, \r\n      \"inc_two_channels\": function() {return module.alter_channel(rust_image, 1, 30);}, \r\n      \"dec_red_channel\": function() {return module.alter_channel(rust_image, 0, -30)}, \r\n      \"dec_blue_channel\": function() {return module.alter_channel(rust_image, 2, -30)}, \r\n      \"dec_green_channel\": function() {return module.alter_channel(rust_image, 1, -30)}, \r\n      \"swap_rg_channels\": function() {return module.swap_channels(rust_image, 0, 1)}, \r\n      \"swap_rb_channels\": function() {return module.swap_channels(rust_image, 0, 2);}, \r\n      \"swap_gb_channels\": function() {return module.swap_channels(rust_image, 1, 2);}, \r\n      \"remove_red_channel\": function() {return module.remove_red_channel(rust_image, 250);}, \r\n      \"remove_green_channel\": function() {return module.remove_green_channel(rust_image, 250)},\r\n      \"remove_blue_channel\": function() {return module.remove_blue_channel(rust_image, 250)},\r\n      \"emboss\": function() {return module.emboss(rust_image)},\r\n      \"box_blur\": function() {return module.box_blur(rust_image)},\r\n      \"sharpen\": function() {return module.sharpen(rust_image)},\r\n      \"lix\": function() {return module.lix(rust_image)},\r\n      \"neue\": function() {return module.neue(rust_image)},\r\n      \"ryo\": function() {return module.ryo(rust_image)},\r\n      \"gaussian_blur\": function() {return module.gaussian_blur(rust_image)},\r\n      \"inc_brightness\": function() {return module.inc_brightness(rust_image, 20)},\r\n      \"inc_lum\": function() {return module.inc_luminosity(rust_image)},\r\n      \"grayscale_human_corrected\": function() {return module.grayscale_human_corrected(rust_image)},\r\n      \"blend\": function() {return module.blend(rust_image, rust_image2, \"over\")},\r\n      \"overlay\": function() {return module.blend(rust_image, rust_image2, \"overlay\")},\r\n      \"atop\": function() {return module.blend(rust_image, rust_image2, \"atop\")},\r\n      \"xor\": function() {return module.blend(rust_image, rust_image2, \"xor\")},\r\n      \"plus\": function() {return module.blend(rust_image, rust_image2, \"plus\")},\r\n      \"multiply\": function() {return module.blend(rust_image, rust_image2, \"multiply\")},\r\n      \"burn\": function() {return module.blend(rust_image, rust_image2, \"burn\")},\r\n      \"difference\": function() {return module.blend(rust_image, rust_image2, \"difference\")},\r\n      \"soft_light\": function() {return module.blend(rust_image, rust_image2, \"soft_light\")},\r\n      \"hard_light\": function() {return module.blend(rust_image, rust_image2, \"hard_light\")},\r\n      \"dodge\": function() {return module.blend(rust_image, rust_image2, \"dodge\")},\r\n      \"exclusion\": function() {return module.blend(rust_image, rust_image2, \"exclusion\")},\r\n      \"lighten\": function() {return module.blend(rust_image, rust_image2, \"lighten\")},\r\n      \"darken\": function() {return module.blend(rust_image, rust_image2, \"darken\")},\r\n      \"watermark\": function() {return module.watermark(rust_image, watermark_img, 10, 30)},\r\n      \"text\": function() {return module.draw_text(rust_image, \"welcome to WebAssembly\", 10, 20)},\r\n      \"text_border\": function() {return module.draw_text_with_border(rust_image, \"welcome to the edge\", 10, 20)},\r\n    };\r\n\r\n    // Filter the image, the PhotonImage's raw pixels are modified and \r\n    // the PhotonImage is returned\r\n    let new_image = filter_dict[filter_name]();\r\n    \r\n    // Place the pixels back on the canvas\r\n    module.putImageData(in_canvas, in_ctx, new_image);\r\n\r\n    console.timeEnd(\"edit_time\");\r\n    }\r\n\r\n    function setUpComparisonImages() {\r\n      js_img = document.getElementById(\"js_img\");\r\n      js_canvas = document.getElementById(\"js_canvas\");\r\n      js_canvas.width = js_img.width;\r\n      js_canvas.height = js_img.height;\r\n  \r\n      js_ctx = js_canvas.getContext(\"2d\");\r\n  \r\n      js_ctx.drawImage(js_img, 0, 0);\r\n  \r\n    }\r\n    setUpComparisonImages();\r\n  \r\n    function compareJS() {\r\n      startTime = performance.now();\r\n      console.time(\"js_compare\");\r\n      let imgData = js_ctx.getImageData(0, 0, js_canvas.width, js_canvas.height);\r\n      console.log(js_canvas, js_ctx);\r\n      console.log(imgData);\r\n      for (i = 0; i < imgData.data.length; i += 4) {\r\n        imgData[i] += 30;\r\n      }\r\n      js_ctx.putImageData(imgData, 0, 0);\r\n\r\n      console.timeEnd(\"js_compare\");\r\n      endTime = performance.now();\r\n      updateBenchmarks(\"js\");\r\n    }\r\n  \r\n    function updateBenchmarks(type) {\r\n      console.log(\"update benchmarks\");\r\n      let time_taken = endTime - startTime;\r\n  \r\n      if (type == \"js\") {\r\n        let time_elem = document.getElementById(\"js_time\");\r\n        time_elem.innerHTML = `JS Time: ${time_taken}ms`;\r\n      }\r\n  \r\n      else if (type == \"wasm\") {\r\n        let time_elem = document.getElementById(\"wasm_time\");\r\n        time_elem.innerHTML = `WASM Time: ${time_taken}ms`;\r\n      }\r\n    }\r\n\r\n\r\n    function compareWASM() {\r\n      startTime = performance.now();\r\n      console.time(\"wasm_compare\"); \r\n  \r\n      // Convert the ImageData to a PhotonImage (so that it can communicate with the core Rust library)\r\n      let wasm_rust_image = module.open_image(js_canvas, js_ctx);\r\n\r\n      // Filter the image, the PhotonImage's raw pixels are modified and \r\n      // the PhotonImage is returned\r\n      let new_wasm_image = module.swap_channels(wasm_rust_image, 0, 1); \r\n\r\n    \r\n      // Place the pixels back on the canvas\r\n      module.putImageData(js_canvas, js_ctx, new_wasm_image);\r\n      console.timeEnd(\"wasm_compare\");\r\n      endTime = performance.now();\r\n      updateBenchmarks(\"wasm\");\r\n    }\r\n\r\n    function setUpCanvases() {\r\n      \r\n      canvas = document.getElementById(\"canvas\");  \r\n      img = document.getElementById(\"img\");\r\n      canvas.width = img.width;\r\n      canvas.height = img.height;\r\n      ctx = canvas.getContext(\"2d\");\r\n      ctx.drawImage(img, 0, 0);\r\n\r\n\r\n      correction_canvas = document.getElementById(\"correction_canvas\");\r\n      img2 = document.getElementById(\"img2\");\r\n      correction_canvas.width = img2.width;\r\n      correction_canvas.height = img2.height;\r\n      correction_ctx = correction_canvas.getContext(\"2d\");\r\n      correction_ctx.drawImage(img2, 0, 0);\r\n     \r\n    }\r\n\r\n    function setUpTimeouts() {\r\n      let landing_effects = [\"primary\", \"inc_red_channel\", \"inc_blue_channel\", \"remove_red_channel\", \r\n      \"solarize\", \"threshold\", \"sepia\", \"decompose_min\", \"swap_rg_channels\", \"swap_gb_channels\", \r\n      \"remove_red_channel\", \"dec_green_channel\", \"dec_blue_channel\", \"dec_red_channel\", \"emboss\", \"sharpen\"];\r\n  \r\n      var timer = 2000;\r\n      var time_dec = 0;\r\n      for (let k = 0; k < landing_effects.length; k++) {\r\n        let effect = landing_effects[k];\r\n        setTimeout(function(){applyEffect(effect, canvas, ctx, img)}, timer);\r\n        timer += 1000;\r\n        timer -= time_dec;\r\n        if (time_dec > 900) {\r\n          time_dec = 0;\r\n        }\r\n        time_dec += 100;\r\n      }\r\n\r\n      let correction_effects = [\"inc_red_channel\", \"sharpen\", \"saturate_hsv\", \"saturate_hsl\", \"saturate_lch\", \"lighten_hsl\", \"lighten_hsv\",\r\n      \"inc_blue_channel\", \"sepia\", \"swap_rg_channels\", \"swap_gb_channels\", \"dec_green_channel\", \"dec_blue_channel\", \"dec_red_channel\", \"emboss\", \"sharpen\"];\r\n  \r\n\r\n      setInterval(function() {\r\n      timer = 2000;\r\n      time_dec = 0;\r\n      for (let k = 0; k < correction_effects.length; k++) {\r\n        let effect = correction_effects[k];\r\n        setTimeout(function(){applyEffect(effect, correction_canvas, correction_ctx, img2)}, timer);\r\n        timer += 1000;\r\n        timer -= time_dec;\r\n        if (time_dec > 900) {\r\n          time_dec = 0;\r\n        }\r\n        time_dec += 100;\r\n      }\r\n  \r\n    }, 50000);\r\n  \r\n  }\r\n});\r\n\r\n  // 45 degree change for imagery.\r\n  let c = 45;\r\n\r\nfunction draw(){\r\n  document.documentElement.style.setProperty('--direction', c++ + 'deg');\r\n  requestAnimationFrame(draw);\r\n}\r\n\r\nrequestAnimationFrame(draw);"],"sourceRoot":""}