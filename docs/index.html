<!doctype html> <html lang=en> <head> <meta charset=UTF-8> <meta name=viewport content="width=device-width,initial-scale=1"> <meta name=Description content="A WebAssembly image processing library that delivers blazing performance and safety/security."> <meta property=og:title content="Photon: A high-performance WebAssembly image processing library."> <meta property=og:type content=website> <meta property=og:url content=https://github.com/tr1s/tris-webpack-boilerplate> <meta property=og:image content=https://i.imgur.com/lxRBpeb.jpg> <meta property=og:image:alt content="A blue package, symbolizing what webpack does."> <meta property=og:description content="A simple yet thorough webpack starter boilerplate for static websites that achieves high performance and cover all best practices."> <meta name=twitter:card content=summary> <meta name=twitter:creator content=@triscodes> <meta name=theme-color content=#2c638f> <meta name=msapplication-navbutton-color content=#2c638f> <meta name=apple-mobile-web-app-status-bar-style content=black-translucent> <link rel=stylesheet href=styles.css /> <title>📦Photon: A Rust Image Processing Library</title> <link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@glorious/demo/dist/gdemo.min.css> <script src=https://cdn.jsdelivr.net/npm/@glorious/demo/dist/gdemo.min.js></script> <link rel="apple-touch-icon" sizes="57x57" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-icon-180x180.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="tris-webpack-boilerplate"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#fff"><meta name="application-name" content="tris-webpack-boilerplate"><link rel="icon" type="image/png" sizes="32x32" href="icons-5d008e6785a1d242e8d42fa7b71afee3/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="icons-5d008e6785a1d242e8d42fa7b71afee3/favicon-16x16.png"><link rel="shortcut icon" href="icons-5d008e6785a1d242e8d42fa7b71afee3/favicon.ico"><meta name="msapplication-TileColor" content="#fff"><meta name="msapplication-TileImage" content="mstile-144x144.png"><meta name="msapplication-config" content="browserconfig.xml"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-startup-image-320x460.png"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-startup-image-640x920.png"><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-startup-image-640x1096.png"><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-startup-image-750x1294.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-startup-image-1182x2208.png"><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-startup-image-1242x2148.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-startup-image-748x1024.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-startup-image-768x1004.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-startup-image-1496x2048.png"><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" href="icons-5d008e6785a1d242e8d42fa7b71afee3/apple-touch-startup-image-1536x2008.png"><link href="webpack-bundle.css" rel="stylesheet"><script type="text/javascript" src="main.bundle.js" defer></script><link as="font" crossorigin="anonymous" href="fonts/libre-baskerville-v5-latin-regular.woff" rel="preload"><link as="font" crossorigin="anonymous" href="fonts/libre-baskerville-v5-latin-regular.woff2" rel="preload"></head> <body> <header> </header> <main> <div class=landing> <div class=content> <header class=container> <h4 class=logo>photon</h4> <nav class=contright> <ul> <li>Home</li> <li>Docs</li> <li><a href=demo.html>Demo</a></li> <li>GitHub</li> </ul> </nav> </header> <article class=landing_hero> <article class=landing_text> <h1>WebAssembly image processing</h1> <p>High-performance WebAssembly image processing that runs both natively and on the web. Bring native speed image processing back to the browser. Powered by Rust, keeping it safe and secure. </p> <div class=buttons> <button class="btn btn-default btn_fill pulse">Get Started</button> <button class=slide>Docs</button> </div> </article> <article class=landing_image> <img src=images/nine_yards.jpg id=img /> <canvas id=canvas></canvas> </article> </article> <article class=features> <h2>Features</h2> <p>Unlike other libraries, this library is built with 100% pure Rust, so security and safety is guaranteed. </p> <ul class=features_list> <li> <h3>Web-Assembly Friendly</h3> <p>For web-based image processing, Photon is 4-10x faster than JS, leading to faster results, and less lag. </p> <h5>Read More </h5> </li> <li> <h3>Over 90 functions </h3> <p>Photon provides functions for every domain of image processing. </p> <h5>Read More </h5> </li> <li> <h3>Call WASM with JS</h3> <p>This library's WASM functions can be called via JS, allowing for zero-cost abstraction and faster development.</p> <h5>Read More </h5> </li> </ul> </article> <article class=guide> <h2 class=center>How it works</h2> <section class=guide_pane> <section> <h2>Write once, run anywhere.</h2> <p>Photon can be executed:</p> <ul> <li>In the browser via JS</li> <li>On Node.JS</li> <li>Natively on any machine</li> </ul> <p>Photon compiles to WebAssembly, which allows the execution of native-speed code in the browser and on Node.JS. This means incredible performance and since Photon's core library is written in Rust, it promises security and safety. </p> <button class="btn btn_fill">Animate</button> </section> <div class=container> <div class=w> <div class="p a"></div> <div class="p b"></div> <div class="p c"></div> <div class="p d"></div> </div> </div> </section> <section class=guide_pane> <section> <h2> Functions </h2> <p> Functions include:</p> <ul> <li> <b>Image correction:</b> Hue rotation, sharpening, brightness adjustment, adjusting saturation, lightening/darkening all within various colour spaces. </li> <li><b>Convolutions</b>: Sobel filters, blurs, Laplace effects, edge detection, etc., </li> <li><b>Channel manipulation</b>: Increasing/decreasing RGB channel values, swapping channels, removing channels, etc.</li> <li><b>onochrome effects</b>: Duotoning, greyscaling of various forms, thresholding, sepia, averaging RGB values</li> <li><b>Colour manipulation</b>: Work with the image in various colour spaces such as HSL, LCh, and sRGB, and adjust the colours accordingly. </li> <li><b>Filters</b>: Over 30 pre-set filters available, incorporating various effects and transformations. </li> <li> <b>Text</b>: Apply text to imagery in artistic ways, or to watermark, etc.,</li> <li><b>Watermarking</b>: Watermark images in multiple formats. </li> <li><b>Blending</b>: Blend images together using 10 different techniques, change image backgrounds. </li> View all [functions here](https://silvia-odwyer.github.io/photon/docs/photon/all.html). </ul> <button class="btn btn_fill">Animate</button> </section> <div class=container> <div class="background anim_img"></div> <div class="foreground anim_img"></div> </div> </section> <section class=guide_pane> <section> <h2>Channel/Colour Manipulation</h2> <p> The library provides low-level access to pixel and channel manipulation, as well as high-level functions for image correction, filtering, watermarking, and convolutions. </p> <button class="btn btn_fill">Animate</button> </section> <div class=container> <div class=w> <div class="p a"></div> <div class="p b"></div> <div class="p c"></div> <div class="p d"></div> </div> </div> </section> <section class=guide_pane> <section> <h2> Blend Images </h2> <p> Functions include:</p> <b>Blending</b>:<p> Blend images together using 10 different techniques. </p> <p>Create new images from existing ones, or create new worlds from source images.</p> <button class="btn btn_fill">Animate</button> </section> <div class=container> <div class="background anim_img"></div> <div class="foreground anim_img"></div> </div> </section> <section> <section class=guide_pane> <section> <h2>View The Demo</h2> <p>To see WebAssembly in action and all effects available, make sure to check out our</p> <a href=demo.html>demo </a> <p>, where you can test out the effects, view performance, and see if Photon is the right library for your needs.</p> <button class="btn btn_fill">View The Demo</button> </section> </section> <section class=guide_pane> <section> <h2>View The Demo</h2> <p>To see WebAssembly in action and all effects available, make sure to check out our</p> <a href=demo.html>demo </a> <p>, where you can test out the effects, view performance, and see if Photon is the right library for your needs.</p> <button class="btn btn_fill">View The Demo</button> </section> <div id=code> </div> </section> </section> </article> <h2>Compare WebAssembly versus JavaScript</h2> <button id=compare_js class=pulse>Start JS</button> <button id=compare_wasm class=pulse>Start WASM</button> <p>Below are two identical images of size 40MB, the left image being edited by JavaScript and the right image edited by WebAssembly. </p> <article class=comparison> <article> <h4>JavaScript</h4> <p id=js_time>JS time: </p> <img id=js_img src=images/fruit.jpg /> <canvas id=js_canvas></canvas> </article> <article> <h4>WebAssembly</h4> <p id=wasm_time>WASM time: </p> <canvas id=wasm_canvas></canvas> </article> </article> <article class="guide center cta"> <h2>Quick Links</h2> <p></p> <button class="btn btn_fill">View The Docs</button> <button class="btn btn_outline">PhotonPRO</button> </article> <footer> <div class=footer_lhs> <h1 class=logo>Photon</h1> <p>Image processing with WebAssembly.</p> <p>Copyright 2019 copy All Rights Reserved. Software open-sourced under MIT. </p> </div> <div class=footer_rhs> <ul> <li>Home</li> <li>About</li> <li>GitHub</li> <li>Docs</li> </ul> </div> </footer> </div> </div> <script> // Constructor receives a selector that indicates
      // where to inject the demonstration in your page.
      const demo = new GDemo('#code');
      
      const code = `
      extern crate photon;
      fn main() {
         // Open the image as a PhotonImage type
         let img = photon::helpers::open_image("daisies.JPG");
         
         // Apply a Sobel effect to the image 
         let filtered_img = photon::conv::sobel_vertical(img);
         
         // Write the contents of this image in PNG format.
         photon::helpers::save_image(filtered_img, "new_image.PNG");
     }
      `
      
      demo

        .openApp('terminal', {minHeight: '350px', promptString: '$'})
        .command('git clone https://github.com/silvia-odwyer/photon', {onCompleteDelay: 500})
        // .respond('')
        .command('cd photon')
        .command('npm start')
        .respond('This will start a webpack build pipeline, and contains a quick demo to help you get started.')
        .command('cd crate')
        .command('cargo run --release')
        .respond('This will natively run the Rust binary code.')
        .openApp('editor', {minHeight: '350px', windowTitle: 'demo.js'})
        .write(code, {onCompleteDelay: 1500})
        .end(); </script> ##### 96 customisable functions are available, for varying image effects. `photon` can be thought of as a high-level wrapper to the Rust `image` crate, but conversely also includes functions which provide low-level access to pixel and channel manipulation, perfect for developers who wish to work with this data directly. ### 🧐 Repo Organisation This repo can be thought of as a hybrid library, divided into 2 major components: 1. ***Core Rust library***: This provides universal image processing functions, which can be used either natively or in the browser. The WASM component of this repo relies on this for all image processing functionality. 2. ***WebAssembly helpers and starter demo***: This section of the library contains helpers for exporting pixel data to and from the browser, and communicates directly with the core Rust library. The starter demo demonstrates calling the compiled WebAssembly code using JS functions and hooks into a webpack build pipeline. ### Documentation Documentation can be found [here](https://silvia-odwyer.github.io/photon/docs/photon/index.html). ## Examples ![](https://github.com/silvia-odwyer/photon/blob/master/docs/img_examples/streetlamp_collage.png) ## 🚴Getting Started These instructions will get you a copy of Photon up and running on your local machine for development and testing purposes. See deployment for notes on how to deploy the project on a live system. ### Prerequisites To use Photon, you must have Rust and Node installed. Builds of Photon are compiled using the rust nightly toolchain. ### Native Use Photon contains native-only functions for opening files from the filesystem. When an image is opened, it is converted to a `PhotonImage` type, which can then be passed into any image processing function, and the `PhotonImage` value is accordingly edited. Getting started is relatively straightforward, this code snippet is all you need to get started: ```rust extern crate photon; fn main() { // Open the image as a PhotonImage type let img = photon::helpers::open_image("daisies.JPG"); // Apply a Sobel effect to the image let filtered_img = photon::conv::sobel_vertical(img); // Write the contents of this image in PNG format. photon::helpers::save_image(filtered_img, "new_image.PNG"); } ``` See the documentation for a full list of effects which you can apply. All functions take in a `PhotonImage` similar to above. ### 🚴 Get Started With WebAssembly ##### 🔋 Batteries Included This repo comes pre-configured with a quick-start demo, which hooks into a Webpack build pipeline, and provides all WASM-friendly functions. ***WARNING***: Running WASM code in development mode is ***significantly*** slower than in production mode (often up to 10 times), so don't be disheartened if the JS alternatives outperform WASM. For the blazing speeds promised, make sure to build the project under production mode with `npm run build` and visit `dist/index.html`. * `npm run start` -- Serve the project locally for development at `http://localhost:8080`. * `npm run build` -- Bundle the project (in production mode). ##### WebAssembly Use To allow for universal communication between the core Rust library and WebAssembly, the functions have been generalised to allow for both native and in-browser use. Due to this, image data from the browser must first be converted to a PhotonImage before being passed to the image processing functions. The PhotonImage can then be converted back to JS-compatible ImageData so that it can be displayed in-browser. See the code snippet below: ```js function filterImage(event) { var canvas = document.getElementById("canvas"); var ctx = canvas.getContext("2d"); ctx.drawImage(newimg, 0, 0); // Get the image data from the image let imgData = ctx.getImageData(0, 0, canvas.width, canvas.height); // Convert the ImageData to a PhotonImage (so that it can communicate with the core Rust library) let rust_image = module.open_image(imgData, canvas.width, canvas.height); // Filter the image, the PhotonImage's raw pixels are modified and // the PhotonImage is returned let new_image = module.filter(rust_image, filter_name); // Convert the PhotonImage's raw pixels to JS-compatible ImageData let new_pixels = module.to_image_data(new_image); // Place the pixels back on the canvas ctx.putImageData(new_pixels, 0, 0); } ``` Not all functions available in the core Rust library are available in WebAssembly (currently investigating this). Only WASM-friendly functions have been annotated with #[wasm_bindgen]. All supported WASM functions are displayed in the starter demo. ## Modules Photon contains a series of modules, which include: - `effects`: Various image effects, including adding offsets, thresholding, duotoning, solarization, etc., - `channels`: Functions related to increasing/decreasing the red, green, and blue channels of the image data. - `filters`: Preset filters, which alter the rgb channels of the image. Contains over 20. - `conv`: Laplace, Sobel, emboss; image proc functions which require image convolution. - `noise`: Noise generation of varying tints and hues. - `multiple`: A module for dealing with multiple images, such as watermarking images, etc., - `correction`: Hue rotation, adjusting saturation, lightening/darkening: all techniques available in multiple colour spaces, which lead to varying effects. All effects and filters can be viewed below and on the official website. ## 📚 Documentation View the official [documentation here](https://silvia-odwyer.github.io/photon/docs/photon/index.html). ## Building For Production #### Native You can edit the binary file in the `bin` dir to create an executable or a command-line app, for example. Then, to build this executable for native use in release mode: ```sh cd crate cargo build --release ``` #### WebAssembly To build the example under production mode: ```sh npm run build ``` Check the `dist` folder for the outputted static files, which can be deployed to a live server. </main> </body> </html>